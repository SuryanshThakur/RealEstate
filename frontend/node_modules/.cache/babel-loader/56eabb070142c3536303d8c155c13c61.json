{"ast":null,"code":"var _jsxFileName = \"/Users/suryansh/Downloads/Mern---Real-Estate/frontend/src/components/auth/Login.js\";\nimport React, { Component } from 'react';\nimport { login } from '../../actions/authActions';\nimport { clearErrors } from '../../actions/errorActions';\nimport { connect } from 'react-redux';\nimport { Alert } from 'reactstrap';\nimport { Redirect } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: '',\n      password: '',\n      msg: null\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        email,\n        password\n      } = this.state;\n\n      if (!email || !password) {\n        this.setState({\n          msg: 'Please fill in all fields'\n        });\n        return false;\n      }\n\n      const userData = {\n        email,\n        password\n      };\n      this.props.login(userData);\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push('/');\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      error\n    } = this.props;\n\n    if (error !== prevProps.error) {\n      if (error.id === 'LOGIN_FAIL') {\n        this.setState({\n          msg: error.msg.msg\n        });\n      } else {\n        this.setState({\n          msg: null\n        });\n      }\n    }\n  }\n\n  render() {\n    if (this.props.auth.isAuthenticated) {\n      return React.createElement(Redirect, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"section\", {\n      className: \"space-ptb login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-8 col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"section-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"User Login\")), this.state.msg ? React.createElement(Alert, {\n      color: \"danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.state.msg) : null, React.createElement(\"div\", {\n      className: \"tab-content\",\n      id: \"myTabContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tab-pane fade show active\",\n      id: \"agent\",\n      role: \"tabpanel\",\n      \"aria-labelledby\": \"agent-tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-row mt-4 align-items-center\",\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Email Address:\"), React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      id: \"email\",\n      name: \"email\",\n      placeholder: \"\",\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"\",\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })), this.props.auth.authLoading ? React.createElement(\"div\", {\n      className: \"spinner-border text-primary\",\n      role: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Loading...\")) : React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"list-unstyled d-flex mb-1 mt-sm-0 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"mr-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"New User? Create Account\")))))))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  error: state.error\n});\n\nexport default connect(mapStateToProps, {\n  login,\n  clearErrors\n})(Login);","map":{"version":3,"sources":["/Users/suryansh/Downloads/Mern---Real-Estate/frontend/src/components/auth/Login.js"],"names":["React","Component","login","clearErrors","connect","Alert","Redirect","Login","state","email","password","msg","onChange","e","setState","target","name","value","onSubmit","preventDefault","userData","props","componentDidMount","auth","isAuthenticated","history","push","componentDidUpdate","prevProps","error","id","render","authLoading","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { login } from '../../actions/authActions';\nimport { clearErrors } from '../../actions/errorActions';\nimport { connect } from 'react-redux';\nimport {\n    Alert\n} from 'reactstrap';\nimport { Redirect } from \"react-router-dom\";\n\nclass Login extends Component {\n    state = {\n        email: '',\n        password: '',\n        msg: null\n    }\n\n    componentDidMount(){\n        if (this.props.auth.isAuthenticated) {\n            this.props.history.push('/');\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        const { error } = this.props;\n        if (error !== prevProps.error) {\n            if (error.id === 'LOGIN_FAIL') {\n                this.setState({ msg: error.msg.msg })\n            } else {\n                this.setState({ msg: null })\n            }\n        }\n    }\n\n    onChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n    onSubmit = (e) => {\n        e.preventDefault();\n        const { email, password } = this.state;\n        if (!email || !password) {\n            this.setState({ msg: 'Please fill in all fields' });\n            return false;\n        }\n        const userData = {\n            email,\n            password\n        }\n        this.props.login(userData);\n    }\n    render() {\n        if (this.props.auth.isAuthenticated) {\n            return <Redirect to='/home' />\n        }\n        return (\n            <section className=\"space-ptb login\">\n                <div className=\"container\">\n                    <div className=\"row justify-content-center\">\n                        <div className=\"col-md-8 col-sm-10\">\n                            <div className=\"section-title\">\n                                <h2 className=\"text-center\">User Login</h2>\n                            </div>\n                            {this.state.msg ? <Alert color=\"danger\">{this.state.msg}</Alert> : null}\n                            <div className=\"tab-content\" id=\"myTabContent\">\n                                <div className=\"tab-pane fade show active\" id=\"agent\" role=\"tabpanel\" aria-labelledby=\"agent-tab\">\n                                    <form className=\"form-row mt-4 align-items-center\" onSubmit={this.onSubmit}>\n                                        <div className=\"form-group col-sm-12\">\n                                            <label>Email Address:</label>\n                                            <input type=\"email\" className=\"form-control\" id='email' name='email' placeholder=\"\" onChange={this.onChange} required/>\n                                        </div>\n                                        <div className=\"form-group col-sm-12\">\n                                            <label>Password:</label>\n                                            <input type=\"password\" className=\"form-control\" id='password' name='password' placeholder=\"\" onChange={this.onChange} required/>\n                                        </div>\n                                        {this.props.auth.authLoading ? <div className=\"spinner-border text-primary\" role=\"status\">\n                                            <span className=\"sr-only\">Loading...</span>\n                                        </div> : <div className=\"col-sm-6\">\n                                                <button type=\"submit\" className=\"btn btn-primary btn-block\">Login</button>\n                                            </div>}\n                                        <div className=\"col-sm-6\">\n                                            <ul className=\"list-unstyled d-flex mb-1 mt-sm-0 mt-3\">\n                                                <li className=\"mr-1\"><a href=\"/#\">New User? Create Account</a></li>\n                                            </ul>\n                                        </div>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        );\n    }\n}\nconst mapStateToProps = (state) => ({\n    auth: state.auth,\n    error: state.error\n})\nexport default connect(mapStateToProps, { login, clearErrors })(Login);"]},"metadata":{},"sourceType":"module"}